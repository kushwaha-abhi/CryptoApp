"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6389],{60118:function(t,e,n){var a=n(43692),r=n(61557),i=n(8014),o=n(60445),s=n(35190),l=n(48919),c=n(62044),u=n(17470),m=n(56168),$=n(35273),d=n(57507),p=n(66219),g=n(83824);e.Z=function(t){var e,n,f,h=(0,c.Z)().t,x=(0,m.useState)(!0),v=x[0],y=x[1],w=(0,m.useState)(),b=w[0],S=w[1],_=null===(n=t.showWaterMark)||void 0===n||n,I=(f=(0,a.Z)(function(t){var e,n,a;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return e=null==t?void 0:t.split("/").pop(),[4,(0,$.t)(t,e)];case 1:return n=r.sent(),[4,(0,d.Nw)(n,e)];case 2:return a=r.sent(),S(URL.createObjectURL(a)),y(!1),[2]}})}),function(t){return f.apply(this,arguments)});(0,m.useEffect)(function(){var e,n;(null===(e=t.subscription)||void 0===e?void 0:e.status)!=="active"&&t.image&&_&&(y(!0),I(t.image)),((null===(n=t.subscription)||void 0===n?void 0:n.status)==="active"&&t.image||!_&&t.image)&&y(!1)},[t.image,t.subscription]);var L=function(){if((0,p.c)("image_downloaded",{source_tool:t.app},[g.C.MS_ANALYTICS,g.C.FACEBOOK_PIXEL,g.C.CUSTOMER_IO]),navigator.share){var e;navigator.share({url:(null===(e=t.subscription)||void 0===e?void 0:e.status)!=="active"&&_?b:t.image,title:"Save Image"}).then(function(){return console.log("Image saved to photos")}).catch(function(t){return console.log("Error sharing image:",t)})}else console.log("Web Share API not supported.")};return(0,i.jsxs)("div",{className:"w-full h-full inset-0 fixed z-40 bg-white",children:[(0,i.jsx)("div",{className:(0,s.Z)("bg-gradient-to-r from-".concat(t.app,"-gradient-start via-").concat(t.app,"-gradient-middle to-").concat(t.app,"-gradient-end h-2 w-full"))}),(0,i.jsxs)("div",{className:"flex flex-col items-center w-full h-full px-4 py-8 relative",children:[(0,i.jsx)("div",{className:"absolute top-4 right-4 md:top-8 md:right-8 p-2 cursor-pointer hover:bg-neutral-100 rounded-lg",onClick:function(){return t.setIsMobileDownloadModalOpen(!1)},children:(0,i.jsx)(o.F,{className:"text-primary text-2xl"})}),(0,i.jsx)(l.aC,{text:h("common:MOBILE_DOWNLOAD_SCREEN_TITLE")}),(0,i.jsx)("p",{className:"text-sm antialiased font-normal text-primary my-4",children:h("common:MOBILE_DOWNLOAD_SCREEN_EXPLAINER")}),((null==t?void 0:t.creatingImageUrlFromFile)||v)&&(0,i.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,i.jsx)(u.Z,{size:160,lineWeight:5,speed:2,color:"#0A1727"})}),!(null==t?void 0:t.creatingImageUrlFromFile)&&!v&&(0,i.jsx)("div",{className:(0,s.Z)("border border-".concat(t.app,"-gradient-end max-h-download-mobile max-w-fit rounded-[0.625rem] p-0.5")),onClick:function(){return L(t.image)},children:(0,i.jsx)("img",{src:(null===(e=t.subscription)||void 0===e?void 0:e.status)!=="active"&&_?b:t.image,alt:"image to download",className:"rounded-lg object-contain max-h-full"})})]})]})}},57006:function(t,e,n){n.d(e,{Z:function(){return u}});var a=n(8014),r=n(1984),i=n.n(r),o=n(62044);function s(t,e){if(!e.faq||0===e.faq.length)return null;for(var n=e.faqLocalePrefix?e.faqLocalePrefix:e.localeSlug,a=e.faqAppPrefix?e.faqAppPrefix:"",r=[],i=1;i<=e.faq.length;i++)r.push({"@type":"Question",name:t("".concat(n,":").concat(a,"FAQ_QUESTION_").concat(i)),acceptedAnswer:{"@type":"Answer",text:t("".concat(n,":").concat(a,"FAQ_ANSWER_").concat(i))}});return{"@context":"https://schema.org","@type":"FAQPage",mainEntity:r}}function l(t,e){if(!e.howItWorksSteps||0===e.howItWorksSteps.length)return null;for(var n=[],a=1;a<=e.howItWorksSteps.length;a++)n.push({"@type":"HowToStep",name:t("".concat(e.localeSlug,":HOW_IT_WORKS_STEP_").concat(a,"_TITLE")),text:t("".concat(e.localeSlug,":HOW_IT_WORKS_STEP_").concat(a,"_DESCRIPTION"))});return{"@context":"https://schema.org","@type":"HowTo",name:t("".concat(e.localeSlug,":HOW_IT_WORKS_SECTION_TITLE")),step:n}}function c(t){return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:"https://magicstudio.com/"},{"@type":"ListItem",position:2,name:t,item:"https://magicstudio.com/".concat(t,"/")}]}}var u=function(t){var e=t.appConfig,n=t.noIndex,r=(0,o.Z)().t;return(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:r(e.pageTitle)}),n&&(0,a.jsx)("meta",{name:"robots",content:"noindex"}),(0,a.jsx)("meta",{name:"title",content:r(e.metaTitle)}),(0,a.jsx)("meta",{name:"description",content:r(e.metaDescription)}),(0,a.jsx)("meta",{property:"og:site_name",content:"Magic Studio"}),(0,a.jsx)("meta",{property:"og:type",content:"website"}),(0,a.jsx)("meta",{property:"og:url",content:e.metaUrl}),(0,a.jsx)("meta",{property:"og:title",content:r(e.ogTitle)}),(0,a.jsx)("meta",{property:"og:description",content:r(e.ogDescription)}),(0,a.jsx)("meta",{property:"og:image",content:e.metaImageUrl}),(0,a.jsx)("meta",{property:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{property:"twitter:url",content:e.metaUrl}),(0,a.jsx)("meta",{property:"twitter:title",content:r(e.twitterTitle)}),(0,a.jsx)("meta",{property:"twitter:description",content:r(e.twitterDescription)}),(0,a.jsx)("meta",{property:"twitter:image",content:e.metaImageUrl}),(0,a.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:function(t,e){var n=e.enabledStructuredSchema;if(!n||0===n.length)return null;var a=[],r=!0,i=!1,o=void 0;try{for(var u,m=n[Symbol.iterator]();!(r=(u=m.next()).done);r=!0){var $=u.value;try{switch($){case"FAQ":var d=s(t,e);d&&a.push(d);break;case"HOW_TO":var p=l(t,e);p&&a.push(p);break;case"BREAD_CRUMB_LIST":a.push(c(e.appName))}}catch(g){console.error(g)}}}catch(f){i=!0,o=f}finally{try{r||null==m.return||m.return()}finally{if(i)throw o}}return{__html:JSON.stringify(a)}}(r,e)})]})}},48919:function(t,e,n){n.d(e,{Cd:function(){return s},DI:function(){return g},Eu:function(){return p},H1:function(){return l},H2:function(){return c},H3:function(){return u},H4:function(){return m},H5:function(){return $},XJ:function(){return r},aC:function(){return i},gS:function(){return f},k8:function(){return o},v_:function(){return d}});var a=n(8014);function r(t){return(0,a.jsx)("h2",{className:"font-semibold text-2xl md:text-3xl text-primary antialiased",dangerouslySetInnerHTML:{__html:t.text}})}function i(t){return(0,a.jsx)("h3",{className:"text-primary text-xl md:text-2xl font-[550] font-inter antialiased",dangerouslySetInnerHTML:{__html:t.text}})}function o(t){return(0,a.jsx)("h4",{className:"text-lg md:text-xl font-regular text-primary antialiased",dangerouslySetInnerHTML:{__html:t.text}})}function s(t){return(0,a.jsx)("h6",{className:"text-sm md:text-base font-regular text-primary antialiased",dangerouslySetInnerHTML:{__html:t.text}})}function l(t){return(0,a.jsx)("h1",{className:"font-inter font-medium text-5xl md:text-7xl antialiased text-primary -tracking-[0.022em] ".concat((null==t?void 0:t.classes)?t.classes:""),dangerouslySetInnerHTML:{__html:t.text},style:{fontVariationSettings:"'opsz' 28",textRendering:"optimizeLegibility"}})}function c(t){return(0,a.jsx)("h2",{className:"font-inter font-[450] text-3xl md:text-5xl md:leading-[1.15] antialiased text-primary -tracking-[0.021em] md:-tracking-[0.022em] ".concat((null==t?void 0:t.classes)?t.classes:""),style:{fontVariationSettings:"'opsz' 28",textRendering:"optimizeLegibility"},dangerouslySetInnerHTML:{__html:t.text}})}function u(t){return(0,a.jsx)("h2",{className:"font-inter font-medium text-2xl md:text-[2rem] leading-[1.2] antialiased text-primary -tracking-[0.019em] md:-tracking-[0.021em] ".concat((null==t?void 0:t.classes)?t.classes:""),dangerouslySetInnerHTML:{__html:t.text},style:{fontVariationSettings:"'opsz' 28",textRendering:"optimizeLegibility"}})}function m(t){return(0,a.jsx)("h3",{className:"font-inter font-medium text-lg md:text-2xl antialiased text-primary leading-6 md:leading-8 -tracking-[0.014em] md:-tracking-[0.019em] ".concat((null==t?void 0:t.classes)?t.classes:""),dangerouslySetInnerHTML:{__html:t.text},style:{fontVariationSettings:"'opsz' 28",textRendering:"optimizeLegibility"}})}function $(t){return(0,a.jsx)("h4",{className:"text-primary text-base md:text-lg antialiased font-inter font-[450] -tracking-[0.011em] md:-tracking-[0.014em] ".concat((null==t?void 0:t.classes)?t.classes:""),dangerouslySetInnerHTML:{__html:t.text},style:{fontVariationSettings:"'opsz' 28",textRendering:"optimizeLegibility"}})}function d(t){return(0,a.jsx)("h2",{className:"font-inter text-slate-800 font-[350] text-xl md:text-2xl -tracking-[0.017em] md:-tracking-[0.019em] antialiased ".concat((null==t?void 0:t.classes)?t.classes:""),dangerouslySetInnerHTML:{__html:t.text},style:{fontVariationSettings:"'opsz' 28",textRendering:"optimizeLegibility"}})}function p(t){return(0,a.jsx)("h3",{className:"font-inter font-[350] text-lg md:text-xl antialiased text-slate-800 -tracking-[0.014em] md:-tracking-[0.017em] ".concat((null==t?void 0:t.classes)?t.classes:""),dangerouslySetInnerHTML:{__html:t.text},style:{fontVariationSettings:"'opsz' 28",textRendering:"optimizeLegibility"}})}function g(t){return(0,a.jsx)("h3",{className:"font-inter font-[350] text-slate-800 text-base md:text-lg -tracking-[0.011em] md:-tracking-[0.014em] antialiased ".concat((null==t?void 0:t.classes)?t.classes:""),dangerouslySetInnerHTML:{__html:t.text},style:{fontVariationSettings:"'opsz' 28",textRendering:"optimizeLegibility"}})}function f(t){return(0,a.jsx)("p",{className:"font-inter font-[350] text-slate-800 text-sm md:text-base -tracking-[0.006em] md:-tracking-[0.011em] antialiased ".concat((null==t?void 0:t.classes)?t.classes:""),dangerouslySetInnerHTML:{__html:t.text},style:{fontVariationSettings:"'opsz' 28",textRendering:"optimizeLegibility"}})}},57507:function(t,e,n){n.d(e,{GN:function(){return g},Nm:function(){return c},Nw:function(){return l},qo:function(){return m},sz:function(){return d}});var a=n(43692),r=n(61557),i=n(83824),o=n(66219),s=n(35273);function l(t,e){var n,a=null==t?void 0:null===(n=t.name)||void 0===n?void 0:n.split(".").pop().toLowerCase(),r="image/"+(a="jpg"===a?"jpeg":a),i="MagicStudio",o=new FileReader,s=document.createElement("canvas"),l=s.getContext("2d"),c=new Image,u=function(){s.width=c.width,s.height=c.height,l.imageSmoothingEnabled=!1,l.drawImage(c,0,0);var n=Math.floor(.033*c.height);n=c.width>c.height?Math.floor(.033*c.width):Math.floor(.033*c.height),l.font=n+"px KumbhSans",l.textAlign="right";for(var a=n,o=l.measureText(i).width,u=Math.floor(.03*c.height),m=s.width-u,$=s.height-u,d=l.getImageData(m-o,$-a,o,a).data,p=0,g=0,f=0,h=0,x=0;x<d.length;x+=4)p+=d[x],g+=d[x+1],f+=d[x+2],h++;p=Math.floor(p/h);var v=(p+(g=Math.floor(g/h))+(f=Math.floor(f/h)))/3;l.fillStyle=v>128?"#0A1727":"white",l.fillText(i,m,$);var y=function(t){for(var e=t.split(",")[0].split(":")[1].split(";")[0],n=atob(t.split(",")[1]),a=[],r=0;r<n.length;r+=1)a.push(n.charCodeAt(r));return new Blob([new Uint8Array(a)],{type:e})}(s.toDataURL(r));return new File([y],e,{type:t.type})};return new Promise(function(e,n){if(!t.type.match(/image.*/)){n(Error("Not an image"));return}o.onload=function(t){c.src=t.target.result,c.onload=function(){var t=new FontFace("KumbhSans","url(https://fonts.gstatic.com/s/kumbhsans/v12/c4mw1n92AsfhuCq6tVsaoIx1CHIi4kToNoo0TRNPVoswOlXC22Y.woff)");document.fonts.add(t),t.load("12px KumbhSans").then(function(){e(u())})}},o.readAsDataURL(t)})}function c(t,e){return u.apply(this,arguments)}function u(){return(u=(0,a.Z)(function(t,e){var n,a,c,u,m,$,d,p,g,f=arguments;return(0,r.__generator)(this,function(r){switch(r.label){case 0:if(n=f.length>2&&void 0!==f[2]&&f[2],a=f.length>3?f[3]:void 0,c=t,u=e||(null==t?void 0:t.split("/").pop()),n)return[3,3];return[4,(0,s.t)(t,u)];case 1:return[4,l(m=r.sent(),u)];case 2:c=r.sent(),r.label=3;case 3:return $=n?c:URL.createObjectURL(c),(d=document.createElement("a")).href=$,d.download=u,p={},d.dispatchEvent(new MouseEvent("click",(p.bubbles=!0,p.cancelable=!0,p.view=window,p))),g={},(0,o.c)("image_downloaded",(g.source_tool=a,g),[i.C.MS_ANALYTICS,i.C.FACEBOOK_PIXEL,i.C.CUSTOMER_IO]),setTimeout(function(){d.remove()},100),[2]}})})).apply(this,arguments)}function m(t,e){return $.apply(this,arguments)}function $(){return($=(0,a.Z)(function(t,e){var n,a,s,c,u,m,$=arguments;return(0,r.__generator)(this,function(r){switch(r.label){case 0:if(n=$.length>2&&void 0!==$[2]&&$[2],a=$.length>3?$[3]:void 0,console.log("start downloadImageFileWithWatermark"),console.log("file",t),n)return[3,2];return[4,l(t,e)];case 1:t=r.sent(),r.label=2;case 2:return s=window.URL.createObjectURL(t),console.log("file",t),console.log("name",e),console.log("url",s),(c=document.createElement("a")).href=s,c.download=e,u={},c.dispatchEvent(new MouseEvent("click",(u.bubbles=!0,u.cancelable=!0,u.view=window,u))),m={},(0,o.c)("image_downloaded",(m.source_tool=a,m),[i.C.MS_ANALYTICS,i.C.FACEBOOK_PIXEL,i.C.CUSTOMER_IO]),setTimeout(function(){c.remove()},100),[2]}})})).apply(this,arguments)}function d(t,e){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)(function(t,e){var n,a,c,u,m,$,d,p,g,f,h=arguments;return(0,r.__generator)(this,function(r){switch(r.label){case 0:if(n=h.length>2&&void 0!==h[2]&&h[2],a=h.length>3?h[3]:void 0,m=t,u=t.startsWith("data:")?($=t.split(",")[0].split(":")[1].split(";")[0]).split("/")[1]:t.split(".").pop(),n)return[3,3];return[4,(0,s.t)(t,e+"."+u)];case 1:return[4,l(d=r.sent(),e+"."+u)];case 2:c=r.sent(),m=URL.createObjectURL(c),r.label=3;case 3:return(p=document.createElement("a")).href=m,p.download=e+"."+u,g={},p.dispatchEvent(new MouseEvent("click",(g.bubbles=!0,g.cancelable=!0,g.view=window,g))),f={},(0,o.c)("image_downloaded",(f.source_tool=a,f),[i.C.MS_ANALYTICS,i.C.FACEBOOK_PIXEL,i.C.CUSTOMER_IO]),setTimeout(function(){p.remove()},100),[2]}})})).apply(this,arguments)}function g(t,e,n){var a=document.createElement("a");a.href=t,a.download=e,a.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),(0,o.c)("image_downloaded",{source_tool:n},[i.C.MS_ANALYTICS,i.C.FACEBOOK_PIXEL,i.C.CUSTOMER_IO,]),setTimeout(function(){a.remove()},100)}},35273:function(t,e,n){n.d(e,{t:function(){return i}});var a=n(43692),r=n(61557);function i(t,e){return o.apply(this,arguments)}function o(){return(o=(0,a.Z)(function(t,e){var n,a,i,o,s;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch(t)];case 1:if(!(n=r.sent()).ok)throw Error("HTTP error! status: ".concat(n.status));return[4,n.blob()];case 2:return a=r.sent(),o={},[2,i=new File([a],e||(null==t?void 0:t.split("/").pop()),(o.type="image/jpeg",o))];case 3:throw s=r.sent(),console.error("Fetch Error: ",s),s;case 4:return[2]}})})).apply(this,arguments)}}}]);